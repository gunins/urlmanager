{"version":3,"sources":["../../../es6/dev/router/MatchBinder.js"],"names":[],"mappings":";;;;AAAA,CAAC,UAAS,IAAT,EAAe,OAAf,EAAwB;;AAErB,QAAI,OAAO,MAAP,KAAkB,UAAlB,IAAgC,OAAO,GAAP,EAAY;;AAE5C,eAAO,CACH,gBADG,CAAP,EAEG,OAFH,EAF4C;KAAhD,MAKO,IAAI,QAAO,yDAAP,KAAmB,QAAnB,EAA6B;;;;AAIpC,eAAO,OAAP,GAAiB,QAAQ,QAAQ,gBAAR,CAAR,CAAjB,CAJoC;KAAjC,MAKA;;AAEH,aAAK,UAAL,GAAkB,KAAK,UAAL,IAAmB,EAAnB,CAFf;AAGH,aAAK,UAAL,CAAgB,WAAhB,GAA8B,QAAQ,KAAK,UAAL,CAAgB,YAAhB,CAAtC,CAHG;KALA;CAPV,aAiBO,UAAS,YAAT,EAAuB;AAC3B,aAAS,WAAT,CAAqB,QAArB,EAA+B,MAA/B,EAAuC,OAAvC,EAAgD,IAAhD,EAAsD;AAClD,aAAK,QAAL,GAAgB,EAAhB,CADkD;AAElD,aAAK,QAAL,GAAgB,QAAQ,QAAR,IAAoB,EAApB,CAFkC;AAGlD,aAAK,OAAL,GAAe,OAAf,CAHkD;AAIlD,aAAK,MAAL,GAAc,MAAd,CAJkD;KAAtD;;AAQA,gBAAY,SAAZ,CAAsB,KAAtB,GAA8B,UAAS,OAAT,EAAkB,UAAlB,EAA8B;;AAExD,YAAI,OAAO,OAAP,KAAmB,UAAnB,EAA+B;AAC/B,yBAAa,OAAb,CAD+B;AAE/B,sBAAU,KAAV,CAF+B;SAAnC;AAIA,YAAI,YAAY,EAAZ,EAAgB;AAChB,sBAAU,KAAV,CADgB;SAApB;;AAIA,YAAI,UAAU,KAAK,eAAL,CAAqB,OAArB,EAA8B,KAAK,QAAL,CAAxC,CAVoD;AAWxD,aAAK,QAAL,CAAc,IAAd,CAAmB,OAAnB,EAXwD;;AAaxD,YAAI,YAAY,KAAK,YAAL,CAAkB,KAAK,QAAL,IAAiB,WAAW,EAAX,CAAjB,CAA9B,CAboD;AAcxD,gBAAQ,YAAR,CAAqB,SAArB,EAdwD;;AAgBxD,YAAI,UAAJ,EAAgB;AACZ,uBAAW,UAAU,KAAV,CAAgB,IAAhB,CAAqB,SAArB,CAAX,EADY;SAAhB;AAGA,eAAO,OAAP,CAnBwD;KAA9B,CATH;AA8B3B,gBAAY,SAAZ,CAAsB,YAAtB,GAAqC,UAAS,OAAT,EAAkB;AACnD,eAAO,IAAI,WAAJ,CAAgB,OAAhB,CAAP,CADmD;KAAlB,CA9BV;AAiC3B,gBAAY,SAAZ,CAAsB,eAAtB,GAAwC,UAAS,OAAT,EAAkB,IAAlB,EAAwB;AAC5D,eAAO,IAAI,YAAJ,CAAiB,OAAjB,EAA0B,IAA1B,CAAP,CAD4D;KAAxB,CAjCb;AAoC3B,gBAAY,SAAZ,CAAsB,MAAtB,GAA+B,UAAS,QAAT,EAAmB;AAC9C,eAAO,KAAK,QAAL,CAAc,MAAd,CAAqB,UAAS,OAAT,EAAkB;AAC1C,mBAAO,QAAQ,IAAR,CAAa,QAAb,CAAP,CAD0C;SAAlB,CAA5B,CAD8C;KAAnB,CApCJ;AAyC3B,gBAAY,SAAZ,CAAsB,GAAtB,GAA4B,YAAW;AACnC,aAAK,OAAL,CAAa,IAAb,EADmC;KAAX,CAzCD;AA4C3B,WAAO,WAAP,CA5C2B;CAAvB,CAjBR","file":"MatchBinder.js","sourcesContent":["(function(root, factory) {\n\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([\n            './MatchBinding'\n        ], factory);\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('./MatchBinding'));\n    } else {\n        // Browser globals (root is window)\n        root.UrlManager = root.UrlManager || {};\n        root.UrlManager.MatchBinder = factory(root.UrlManager.MatchBinding);\n    }\n}(this, function(MatchBinding) {\n    function MatchBinder(location, params, command, root) {\n        this.bindings = [];\n        this.location = root || location || '';\n        this.command = command;\n        this.params = params;\n\n    }\n\n    MatchBinder.prototype.match = function(pattern, mapHandler) {\n\n        if (typeof pattern === 'function') {\n            mapHandler = pattern;\n            pattern = false;\n        }\n        if (pattern === '') {\n            pattern = false;\n        }\n\n        var binding = this.getMatchBinding(pattern, this.location);\n        this.bindings.push(binding);\n\n        var subBinder = this.getSubBinder(this.location + (pattern || ''));\n        binding.setSubBinder(subBinder);\n\n        if (mapHandler) {\n            mapHandler(subBinder.match.bind(subBinder));\n        }\n        return binding;\n    };\n    MatchBinder.prototype.getSubBinder = function(pattern) {\n        return new MatchBinder(pattern);\n    };\n    MatchBinder.prototype.getMatchBinding = function(pattern, root) {\n        return new MatchBinding(pattern, root);\n    };\n    MatchBinder.prototype.filter = function(location) {\n        return this.bindings.filter(function(binding) {\n            return binding.test(location);\n        });\n    };\n    MatchBinder.prototype.run = function() {\n        this.command(this);\n    };\n    return MatchBinder;\n}));\n"]}