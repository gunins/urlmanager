{"version":3,"sources":["../../../es6/dev/router/MatchBinder.js"],"names":[],"mappings":";;;;;;;;AAAA,CAAC,UAAS,IAAT,EAAe,OAAf,EAAwB;;AAErB,QAAI,OAAO,MAAP,KAAkB,UAAlB,IAAgC,OAAO,GAAP,EAAY;;AAE5C,eAAO,CACH,gBADG,CAAP,EAEG,OAFH,EAF4C;KAAhD,MAKO,IAAI,QAAO,yDAAP,KAAmB,QAAnB,EAA6B;;;;AAIpC,eAAO,OAAP,GAAiB,QAAQ,QAAQ,gBAAR,CAAR,CAAjB,CAJoC;KAAjC,MAKA;;AAEH,aAAK,UAAL,GAAkB,KAAK,UAAL,IAAmB,EAAnB,CAFf;AAGH,aAAK,UAAL,CAAgB,WAAhB,GAA8B,QAAQ,KAAK,UAAL,CAAgB,YAAhB,CAAtC,CAHG;KALA;CAPV,aAiBO,UAAS,YAAT,EAAuB;AAC3B,iBAD2B;;QAGrB;AACF,iBADE,WACF,CAAY,QAAZ,EAAsB,MAAtB,EAA8B,OAA9B,EAAuC,IAAvC,EAA6C;kCAD3C,aAC2C;;AACzC,iBAAK,QAAL,GAAgB,EAAhB,CADyC;AAEzC,iBAAK,QAAL,GAAgB,QAAQ,QAAR,IAAoB,EAApB,CAFyB;AAGzC,iBAAK,OAAL,GAAe,OAAf,CAHyC;AAIzC,iBAAK,MAAL,GAAc,MAAd,CAJyC;SAA7C;;qBADE;;kCASI,SAAS,YAAY;;AAEvB,oBAAI,OAAO,OAAP,KAAmB,UAAnB,EAA+B;AAC/B,iCAAa,OAAb,CAD+B;AAE/B,8BAAU,KAAV,CAF+B;iBAAnC;AAIA,oBAAI,YAAY,EAAZ,EAAgB;AAChB,8BAAU,KAAV,CADgB;iBAApB;;AAIA,oBAAI,UAAU,KAAK,eAAL,CAAqB,OAArB,EAA8B,KAAK,QAAL,CAAxC,CAVmB;AAWvB,qBAAK,QAAL,CAAc,IAAd,CAAmB,OAAnB,EAXuB;;AAavB,oBAAI,YAAY,KAAK,YAAL,CAAkB,KAAK,QAAL,IAAiB,WAAW,EAAX,CAAjB,CAA9B,CAbmB;AAcvB,wBAAQ,YAAR,CAAqB,SAArB,EAduB;;AAgBvB,oBAAI,UAAJ,EAAgB;AACZ,+BAAW,UAAU,KAAV,CAAgB,IAAhB,CAAqB,SAArB,CAAX,EADY;iBAAhB;AAGA,uBAAO,OAAP,CAnBuB;;;;yCAsBd,SAAS;AAClB,uBAAO,IAAI,WAAJ,CAAgB,OAAhB,CAAP,CADkB;;;;4CAIN,SAAS,MAAM;AAC3B,uBAAO,IAAI,YAAJ,CAAiB,OAAjB,EAA0B,IAA1B,CAAP,CAD2B;;;;mCAIxB,UAAU;AACb,uBAAO,KAAK,QAAL,CAAc,MAAd,CAAqB,UAAS,OAAT,EAAkB;AAC1C,2BAAO,QAAQ,IAAR,CAAa,QAAb,CAAP,CAD0C;iBAAlB,CAA5B,CADa;;;;kCAMX;AACF,qBAAK,OAAL,CAAa,IAAb,EADE;;;;eA7CJ;QAHqB;;AAqD3B,WAAO,WAAP,CArD2B;CAAvB,CAjBR","file":"MatchBinder.js","sourcesContent":["(function(root, factory) {\n\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([\n            './MatchBinding'\n        ], factory);\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('./MatchBinding'));\n    } else {\n        // Browser globals (root is window)\n        root.UrlManager = root.UrlManager || {};\n        root.UrlManager.MatchBinder = factory(root.UrlManager.MatchBinding);\n    }\n}(this, function(MatchBinding) {\n    'use strict';\n    \n    class MatchBinder {\n        constructor(location, params, command, root) {\n            this.bindings = [];\n            this.location = root || location || '';\n            this.command = command;\n            this.params = params;\n\n        }\n\n        match(pattern, mapHandler) {\n\n            if (typeof pattern === 'function') {\n                mapHandler = pattern;\n                pattern = false;\n            }\n            if (pattern === '') {\n                pattern = false;\n            }\n\n            let binding = this.getMatchBinding(pattern, this.location);\n            this.bindings.push(binding);\n\n            let subBinder = this.getSubBinder(this.location + (pattern || ''));\n            binding.setSubBinder(subBinder);\n\n            if (mapHandler) {\n                mapHandler(subBinder.match.bind(subBinder));\n            }\n            return binding;\n        };\n\n        getSubBinder(pattern) {\n            return new MatchBinder(pattern);\n        };\n\n        getMatchBinding(pattern, root) {\n            return new MatchBinding(pattern, root);\n        };\n\n        filter(location) {\n            return this.bindings.filter(function(binding) {\n                return binding.test(location);\n            });\n        };\n\n        run() {\n            this.command(this);\n        };\n    }\n\n    return MatchBinder;\n}));\n"]}